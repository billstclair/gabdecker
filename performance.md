# Performance

This page reports on performance tests I did on 7 December 2018.

There are 6 flags at the bottom of `src/Main.elm`, define in the `optimizations` value. I record them here as six bits: abcdef, where a is `lazyMainPage`, b is `lazyRenderRowContents`, c is  `keyedFeedColumn`, d is `lazyFeedColumn`, e is `keyedPostRow`, and f is `lazyPostRow`.

The order is a gray code, so I could change one flag at a time.

There are two measurements for each, the time to bring up the "Add Feed" dialog on clicking "+", and the time to process a click on the refresh arrow for the "Home" feed. Each is `<total>/<scripting>+<rendering>`.

Best balance: 111010

```
optimizations =
    { lazyMainPage = True
    , lazyRenderRowContents = True
    , keyedFeedColumn = True
    , lazyFeedColumn = False
    , keyedPostRow = True
    , lazyPostRow = False
    }
```

Times as I collected them:

```
000000: 2781/2416+ 365 3442/3003+ 439
000001: 1184/  17+1167 1725/ 133+1592
000011: 1175/  19+1157 4008/ 186+3822
000010: 2565/2316+ 249 2907/2461+ 446
000110:  285/  11+ 274  729/ 172+ 557
000111: 1193/  18+1175 3590/  70+3353
000101: 1323/  22+1158 3487/  48+3439
000100:  308/  14+ 294 1100/ 186+ 914

001100:  317/  20+ 297  705/ 164+ 541
001101: 1178/  14+1164 2830/ 132+2698
001111: 1169/  15+1154 2810/ 128+2682
001110:  315/  15+ 300 1029/ 247+ 782
001010: 2720/2359+ 361 3421/3010+ 411
001011: 1165/  29+1136 2549/  75+2474
001001: 1169/  26+1143 2214/  99+2115
001000: 2466/2214+ 252 3281/2881+ 400

011000:  335/  24+ 311  543/  37+ 506
011001: 1192/  25+1167 2218/  38+2180
011011: 1175/  22+1153 2395/ 186+2209
011010:  448/  29+ 419  542/  18+ 524
011110:  342/  15+ 327  614/  22+ 592
011111: 1206/  14+1192 3398/  85+3313
011101: 1225/  25+1200 2273/  18+2255
011100:  331/  10+ 321  774/  36+ 738

010100:  345/  16+ 329  598/  21+ 577
010101: 1229/  14+1215 2286/  32+2254
010111: 1227/  15+1212 2265/  23+2242
010110:  348/  14+ 334  643/  18+ 625
010010:  328/  24+ 304  547/  33+ 514
010011: 1184/  24+1160 2851/ 137+2714
010001: 1201/  24+1177 2226/  48+2178
010000:  320/  17+ 303  560/  30+ 530

110000:  318/  13+ 305  544/  28+ 516
110001: 1209/  12+1196 2255/  39+2216
110011: 1211/  12+1199 2190/  28+2162
110010:  362/  38+ 324  681/  37+ 644
110110:  355/  12+ 343  613/  22+ 591
110111: 1247/  13+1234 2302/  20+2282
110101: 1265/  12+1243 2303/  20+2283
110100:  356/  12+ 344  625/  12+ 613

111100:  509/ 147+ 362  608/  21+ 587
111101: 1248/  12+1236 2274/  17+2257
111111: 1232/  13+1219 2289/  15+2274
111110:  350/   9+ 341  769/  24+ 745
111010:  320/  12+ 308  547/  37+ 510
111011: 1203/  13+1190 2201/  31+2170
111001: 1206/  12+1184 2926/ 134+2792
111000:  307/  13+ 294  552/  26+ 526

101000:  253/  12+ 241 1992/1602+ 390
101001: 1189/  13+1176 2544/ 108+2436
101011: 1160/  12+1148 2149/  39+2110
101010:  320/  81+ 239 1906/1520+ 386
101110:  313/  12+ 301  805/ 176+ 629
101111: 1189/  12+1177 2191/  18+2173
101101: 1205/  13+1192 2213/  21+2192
101100:  375/  12+ 363  800/ 166/ 634

100100:  317/  12+ 305  718/ 181+ 537
100101: 1222/  12+1210 2222/  18+2204
100111: 1204/  12+1192 2201/  20+2181
100110:  356/  52+ 304  784/ 183+ 601
100010:  256/  18/ 238 1995/1608+ 387
100011: 1172/  12+1160 2144/  34+2110
100001: 1205/  13+1172 2197/  35+2162
100000:  258/  12+ 246 1911/1520+ 391
```

Sort by dialog appearance time:

```
 253/  12+ 241 1992/1602+ 390 :101000
 256/  18/ 238 1995/1608+ 387 :100010
 258/  12+ 246 1911/1520+ 391 :100000
 285/  11+ 274  729/ 172+ 557 :000110
 307/  13+ 294  552/  26+ 526 :111000
 308/  14+ 294 1100/ 186+ 914 :000100
 313/  12+ 301  805/ 176+ 629 :101110
 315/  15+ 300 1029/ 247+ 782 :001110
 317/  12+ 305  718/ 181+ 537 :100100
 317/  20+ 297  705/ 164+ 541 :001100
 318/  13+ 305  544/  28+ 516 :110000
 320/  12+ 308  547/  37+ 510 :111010
 320/  17+ 303  560/  30+ 530 :010000
 320/  81+ 239 1906/1520+ 386 :101010
 328/  24+ 304  547/  33+ 514 :010010
 331/  10+ 321  774/  36+ 738 :011100
 335/  24+ 311  543/  37+ 506 :011000
 342/  15+ 327  614/  22+ 592 :011110
 345/  16+ 329  598/  21+ 577 :010100
 348/  14+ 334  643/  18+ 625 :010110
 350/   9+ 341  769/  24+ 745 :111110
 355/  12+ 343  613/  22+ 591 :110110
 356/  12+ 344  625/  12+ 613 :110100
 356/  52+ 304  784/ 183+ 601 :100110
 362/  38+ 324  681/  37+ 644 :110010
 375/  12+ 363  800/ 166/ 634 :101100
 448/  29+ 419  542/  18+ 524 :011010
 509/ 147+ 362  608/  21+ 587 :111100
1160/  12+1148 2149/  39+2110 :101011
1165/  29+1136 2549/  75+2474 :001011
1169/  15+1154 2810/ 128+2682 :001111
1169/  26+1143 2214/  99+2115 :001001
1172/  12+1160 2144/  34+2110 :100011
1175/  19+1157 4008/ 186+3822 :000011
1175/  22+1153 2395/ 186+2209 :011011
1178/  14+1164 2830/ 132+2698 :001101
1184/  17+1167 1725/ 133+1592 :000001
1184/  24+1160 2851/ 137+2714 :010011
1189/  12+1177 2191/  18+2173 :101111
1189/  13+1176 2544/ 108+2436 :101001
1192/  25+1167 2218/  38+2180 :011001
1193/  18+1175 3590/  70+3353 :000111
1201/  24+1177 2226/  48+2178 :010001
1203/  13+1190 2201/  31+2170 :111011
1204/  12+1192 2201/  20+2181 :100111
1205/  13+1172 2197/  35+2162 :100001
1205/  13+1192 2213/  21+2192 :101101
1206/  12+1184 2926/ 134+2792 :111001
1206/  14+1192 3398/  85+3313 :011111
1209/  12+1196 2255/  39+2216 :110001
1211/  12+1199 2190/  28+2162 :110011
1222/  12+1210 2222/  18+2204 :100101
1225/  25+1200 2273/  18+2255 :011101
1227/  15+1212 2265/  23+2242 :010111
1229/  14+1215 2286/  32+2254 :010101
1232/  13+1219 2289/  15+2274 :111111
1247/  13+1234 2302/  20+2282 :110111
1248/  12+1236 2274/  17+2257 :111101
1265/  12+1243 2303/  20+2283 :110101
1323/  22+1158 3487/  48+3439 :000101
2466/2214+ 252 3281/2881+ 400 :001000
2565/2316+ 249 2907/2461+ 446 :000010
2720/2359+ 361 3421/3010+ 411 :001010
2781/2416+ 365 3442/3003+ 439 :000000
```

Sort by refresh column time:

```
542/  18+ 524  448/  29+ 419 :011010
 543/  37+ 506  335/  24+ 311 :011000
 544/  28+ 516  318/  13+ 305 :110000
 547/  33+ 514  328/  24+ 304 :010010
 547/  37+ 510  320/  12+ 308 :111010
 552/  26+ 526  307/  13+ 294 :111000
 560/  30+ 530  320/  17+ 303 :010000
 598/  21+ 577  345/  16+ 329 :010100
 608/  21+ 587  509/ 147+ 362 :111100
 613/  22+ 591  355/  12+ 343 :110110
 614/  22+ 592  342/  15+ 327 :011110
 625/  12+ 613  356/  12+ 344 :110100
 643/  18+ 625  348/  14+ 334 :010110
 681/  37+ 644  362/  38+ 324 :110010
 705/ 164+ 541  317/  20+ 297 :001100
 718/ 181+ 537  317/  12+ 305 :100100
 729/ 172+ 557  285/  11+ 274 :000110
 769/  24+ 745  350/   9+ 341 :111110
 774/  36+ 738  331/  10+ 321 :011100
 784/ 183+ 601  356/  52+ 304 :100110
 800/ 166/ 634  375/  12+ 363 :101100
 805/ 176+ 629  313/  12+ 301 :101110
1029/ 247+ 782  315/  15+ 300 :001110
1100/ 186+ 914  308/  14+ 294 :000100
1725/ 133+1592 1184/  17+1167 :000001
1906/1520+ 386  320/  81+ 239 :101010
1911/1520+ 391  258/  12+ 246 :100000
1992/1602+ 390  253/  12+ 241 :101000
1995/1608+ 387  256/  18/ 238 :100010
2144/  34+2110 1172/  12+1160 :100011
2149/  39+2110 1160/  12+1148 :101011
2190/  28+2162 1211/  12+1199 :110011
2191/  18+2173 1189/  12+1177 :101111
2197/  35+2162 1205/  13+1172 :100001
2201/  20+2181 1204/  12+1192 :100111
2201/  31+2170 1203/  13+1190 :111011
2213/  21+2192 1205/  13+1192 :101101
2214/  99+2115 1169/  26+1143 :001001
2218/  38+2180 1192/  25+1167 :011001
2222/  18+2204 1222/  12+1210 :100101
2226/  48+2178 1201/  24+1177 :010001
2255/  39+2216 1209/  12+1196 :110001
2265/  23+2242 1227/  15+1212 :010111
2273/  18+2255 1225/  25+1200 :011101
2274/  17+2257 1248/  12+1236 :111101
2286/  32+2254 1229/  14+1215 :010101
2289/  15+2274 1232/  13+1219 :111111
2302/  20+2282 1247/  13+1234 :110111
2303/  20+2283 1265/  12+1243 :110101
2395/ 186+2209 1175/  22+1153 :011011
2544/ 108+2436 1189/  13+1176 :101001
2549/  75+2474 1165/  29+1136 :001011
2810/ 128+2682 1169/  15+1154 :001111
2830/ 132+2698 1178/  14+1164 :001101
2851/ 137+2714 1184/  24+1160 :010011
2907/2461+ 446 2565/2316+ 249 :000010
2926/ 134+2792 1206/  12+1184 :111001
3281/2881+ 400 2466/2214+ 252 :001000
3398/  85+3313 1206/  14+1192 :011111
3421/3010+ 411 2720/2359+ 361 :001010
3442/3003+ 439 2781/2416+ 365 :000000
3487/  48+3439 1323/  22+1158 :000101
3590/  70+3353 1193/  18+1175 :000111
4008/ 186+3822 1175/  19+1157 :000011
```
